<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Leni Glow Era</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{
  margin:0;
  font-family: Arial;
  background: linear-gradient(to bottom,#ffd6eb,#fff0f7);
}
header{
  background:#ff4fa3;
  padding:18px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
  color:white;
}
nav{
  display:flex;
  justify-content:space-around;
  background:#ffc6e3;
  padding:10px;
}
nav button{
  background:white;
  border:none;
  padding:8px 12px;
  border-radius:10px;
  cursor:pointer;
}
.section{display:none;padding:20px;}
.active{display:block;}
.card{
  background:white;
  padding:15px;
  border-radius:14px;
  margin-bottom:15px;
  box-shadow:0 4px 10px rgba(0,0,0,0.08);
}
input,textarea{
  width:100%;
  margin-top:5px;
  padding:6px;
  border-radius:8px;
  border:1px solid #eee;
}
button.save{
  background:#ff4fa3;
  color:white;
  border:none;
  padding:8px;
  border-radius:8px;
  margin-top:8px;
  cursor:pointer;
}
.small{
  font-size:14px;
  opacity:0.8;
}
</style>
</head>
<body>

<header>‚ú® Leni Glow Era ‚ú®</header>

<nav>
  <button onclick="show('dashboard')">üè†</button>
  <button onclick="show('progress')">üìä</button>
</nav>

<div id="dashboard" class="section active">
  <div class="card">
    <h3>Dagens setning</h3>
    <p id="quote"></p>
  </div>
</div>

<div id="progress" class="section">
  <div class="card">
    <h3>Logg m√•linger</h3>
    <input type="number" id="weight" placeholder="Vekt (kg)">
    <input type="number" id="waist" placeholder="Midje (cm)">
    <input type="number" id="lift" placeholder="Tyngste l√∏ft (kg)">
    <button class="save" onclick="saveProgress()">Lagre m√•ling</button>
  </div>

  <div class="card">
    <canvas id="chart"></canvas>
  </div>

  <div class="card">
    <h3>Historikk</h3>
    <div id="history"></div>
  </div>
</div>

<script>
function show(id){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

const quotes=[
"Du bygger, ikke beviser.",
"Sm√• steg skaper identitet.",
"Komfort kommer av oppm√∏te.",
"Struktur gir ro.",
"Du er i prosess."
];

document.getElementById("quote").innerText=
quotes[new Date().getDate()%quotes.length];

let data=JSON.parse(localStorage.getItem("progress"))||[];

function saveProgress(){
  let entry={
    date:new Date().toLocaleDateString(),
    weight:weight.value?parseFloat(weight.value):null,
    waist:waist.value?parseFloat(waist.value):null,
    lift:lift.value?parseFloat(lift.value):null
  };

  if(!entry.weight && !entry.waist && !entry.lift) return;

  data.push(entry);
  localStorage.setItem("progress",JSON.stringify(data));

  weight.value="";
  waist.value="";
  lift.value="";

  drawChart();
  drawHistory();
}

function drawChart(){
  let valid=data.filter(d=>d.lift);
  if(valid.length===0) return;

  new Chart(document.getElementById("chart"),{
    type:'line',
    data:{
      labels:valid.map(d=>d.date),
      datasets:[{
        label:"L√∏ft progresjon (kg)",
        data:valid.map(d=>d.lift),
        borderColor:"#ff4fa3",
        fill:false
      }]
    }
  });
}

function drawHistory(){
  let h=document.getElementById("history");
  h.innerHTML="";
  data.slice().reverse().forEach(d=>{
    let line=document.createElement("div");
    line.className="small";
    line.innerText=`${d.date} | ${
      d.weight?`Vekt: ${d.weight} kg `:""
    }${
      d.waist?`Midje: ${d.waist} cm `:""
    }${
      d.lift?`Lift: ${d.lift} kg`:""
    }`;
    h.appendChild(line);
  });
}

drawChart();
drawHistory();
</script>

</body>
</html>
